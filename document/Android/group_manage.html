<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>管理群组 | 环信 IM 文档</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/vuepress/logo.png">
    <meta name="description" content="环信即时通讯云最新集成文档，一天内即可帮APP快速集成聊天功能。 环信客户互动云集成文档，快速多渠道集成，为企业提供智能客服系统。">
    
    <link rel="preload" href="/vuepress/assets/css/0.styles.7ff8f1d4.css" as="style"><link rel="preload" href="/vuepress/assets/js/app.3775eb30.js" as="script"><link rel="preload" href="/vuepress/assets/js/3.db456b6c.js" as="script"><link rel="preload" href="/vuepress/assets/js/1.7ac2d96d.js" as="script"><link rel="preload" href="/vuepress/assets/js/15.6249d44e.js" as="script"><link rel="prefetch" href="/vuepress/assets/js/10.e8437e28.js"><link rel="prefetch" href="/vuepress/assets/js/11.9fe3bf56.js"><link rel="prefetch" href="/vuepress/assets/js/12.5bdc7cb4.js"><link rel="prefetch" href="/vuepress/assets/js/13.fd9a688c.js"><link rel="prefetch" href="/vuepress/assets/js/14.c5d1ee43.js"><link rel="prefetch" href="/vuepress/assets/js/16.e2333c54.js"><link rel="prefetch" href="/vuepress/assets/js/17.a016e123.js"><link rel="prefetch" href="/vuepress/assets/js/18.a4e71e3e.js"><link rel="prefetch" href="/vuepress/assets/js/19.c2a72fc0.js"><link rel="prefetch" href="/vuepress/assets/js/20.5ef4c978.js"><link rel="prefetch" href="/vuepress/assets/js/21.f02692d3.js"><link rel="prefetch" href="/vuepress/assets/js/22.6674015c.js"><link rel="prefetch" href="/vuepress/assets/js/23.7270cb71.js"><link rel="prefetch" href="/vuepress/assets/js/24.24b1ec9d.js"><link rel="prefetch" href="/vuepress/assets/js/25.d5729017.js"><link rel="prefetch" href="/vuepress/assets/js/26.48b974ea.js"><link rel="prefetch" href="/vuepress/assets/js/27.5accaed6.js"><link rel="prefetch" href="/vuepress/assets/js/28.0263440e.js"><link rel="prefetch" href="/vuepress/assets/js/29.598a97cf.js"><link rel="prefetch" href="/vuepress/assets/js/30.c348f978.js"><link rel="prefetch" href="/vuepress/assets/js/31.e8ccf099.js"><link rel="prefetch" href="/vuepress/assets/js/32.0e645f12.js"><link rel="prefetch" href="/vuepress/assets/js/33.24a50465.js"><link rel="prefetch" href="/vuepress/assets/js/34.ff18a349.js"><link rel="prefetch" href="/vuepress/assets/js/35.4e68b9ba.js"><link rel="prefetch" href="/vuepress/assets/js/36.efabe680.js"><link rel="prefetch" href="/vuepress/assets/js/37.662d4795.js"><link rel="prefetch" href="/vuepress/assets/js/38.126de51e.js"><link rel="prefetch" href="/vuepress/assets/js/39.95565ede.js"><link rel="prefetch" href="/vuepress/assets/js/4.e2bccb64.js"><link rel="prefetch" href="/vuepress/assets/js/40.6de23b15.js"><link rel="prefetch" href="/vuepress/assets/js/41.6d31188a.js"><link rel="prefetch" href="/vuepress/assets/js/42.f3454cae.js"><link rel="prefetch" href="/vuepress/assets/js/43.785e27a0.js"><link rel="prefetch" href="/vuepress/assets/js/44.2732245f.js"><link rel="prefetch" href="/vuepress/assets/js/45.aa9d062b.js"><link rel="prefetch" href="/vuepress/assets/js/46.f1767cea.js"><link rel="prefetch" href="/vuepress/assets/js/47.6ea90c89.js"><link rel="prefetch" href="/vuepress/assets/js/48.56a5e7e6.js"><link rel="prefetch" href="/vuepress/assets/js/49.8203ac0c.js"><link rel="prefetch" href="/vuepress/assets/js/5.05775f0d.js"><link rel="prefetch" href="/vuepress/assets/js/50.30fd124a.js"><link rel="prefetch" href="/vuepress/assets/js/51.6e8fe59e.js"><link rel="prefetch" href="/vuepress/assets/js/52.3d80ae80.js"><link rel="prefetch" href="/vuepress/assets/js/53.71b8512d.js"><link rel="prefetch" href="/vuepress/assets/js/6.7df3bdd1.js"><link rel="prefetch" href="/vuepress/assets/js/7.0be7f205.js"><link rel="prefetch" href="/vuepress/assets/js/8.5daa8986.js"><link rel="prefetch" href="/vuepress/assets/js/9.08e122ea.js">
    <link rel="stylesheet" href="/vuepress/assets/css/0.styles.7ff8f1d4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><div><div class="header-container"><div class="logo"><a href="/vuepress/" class="router-link-active"><span><img src="/vuepress/logo.png"></span> <h1>环信 IM 文档</h1></a></div> <div class="nav pc-nav"><div class="main-nav"><a href="/vuepress/product/introduction.html">产品简介</a><a href="/vuepress/document/Android/quickstart" class="active">集成文档</a><a href="/vuepress/api/Android">API 参考</a></div> <div class="nav-extra"><div class="search-container"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div> <div class="secondary-nav"><a href="https://console.easemob.com/ticket" target="_blank">提交工单</a></div> <div class="switch-lang"><a href="javascript:;">选择语言<span class="triangle"></span></a> <div id="sub-menu" class="sub-menu menu-hidden"><ul><li class="active"><a href="/vuepress/document/Android/group_manage.html" aria-current="page" class="router-link-exact-active router-link-active">简体中文</a></li><li><a href="/vuepress/en/document/Android/group_manage.html">English</a></li></ul></div></div> <div class="login-register"><a href="https://console.easemob.com/user/login" target="_blank">登录</a><a href="https://console.easemob.com/user/register" target="_blank">注册</a></div></div></div> <div class="mobile-nav"><img src="/vuepress/icon-menu.png"></div></div> <!----> <!----></div> <div class="content-container"><div class="sider-container"><div class="platform"><div class="platform-input"><div class="platform-text"><img src="/vuepress/icon-Android-hover.svg" alt> <span>Android</span></div> <div class="select-icon"><i class="icon-arrow"></i></div></div> <div id="platform-list" class="platform-list menu-hidden"><!----><div class="group"><div class="group-title">平台</div> <div class="options"><div data-key="Android" class="option-item"><img src="/vuepress/icon-Android.svg" alt class="default"> <img src="/vuepress/icon-Android-hover.svg" alt class="active"> <span>Android</span></div><div data-key="iOS" class="option-item"><img src="/vuepress/icon-iOS.svg" alt class="default"> <img src="/vuepress/icon-iOS-hover.svg" alt class="active"> <span>iOS</span></div><div data-key="Web" class="option-item"><img src="/vuepress/icon-web.svg" alt class="default"> <img src="/vuepress/icon-web-hover.png" alt class="active"> <span>Web</span></div><div data-key="Windows" class="option-item"><img src="/vuepress/icon-windows.svg" alt class="default"> <img src="/vuepress/icon-windows-hover.svg" alt class="active"> <span>Windows</span></div></div></div><div class="group"><div class="group-title">框架</div> <div class="options"><div data-key="Mini-program" class="option-item"><img src="/vuepress/icon-mini-program.svg" alt class="default"> <img src="/vuepress/icon-mini-program-hover.svg" alt class="active"> <span>小程序</span></div><div data-key="Flutter" class="option-item"><img src="/vuepress/icon-flutter.svg" alt class="default"> <img src="/vuepress/icon-flutter-hover.png" alt class="active"> <span>Flutter</span></div><div data-key="React-Native" class="option-item"><img src="/vuepress/icon-ReactNative.svg" alt class="default"> <img src="/vuepress/icon-ReactNative-hover.svg" alt class="active"> <span>React Native</span></div></div></div><div class="group"><div class="group-title"></div> <div class="options"><div data-key="Server-side" class="option-item"><img src="/vuepress/icon-server-dark.png" alt class="default"> <img src="/vuepress/icon-server-light.png" alt class="active"> <span>服务端</span></div></div></div></div></div> <div class="sider-menu"><div class="item"><h2>快速开始</h2> <ul><li><a href="/vuepress/document/Android/demo_android.html">Demo（EaseIM App）</a></li><li><a href="/vuepress/document/Android/quick_start_android.html">快速开始（不使用 EaseIMKIT）</a></li></ul></div><div class="item"><h2>基础功能</h2> <ul><li><div><a href="javascript:;">消息管理<i class="icon-arrow"></i></a> <ul class="sider-menu-sub collapsable menu-hidden"><li><a href="/vuepress/document/Android/message_overview_android.html">消息概述</a></li><li><a href="/vuepress/document/Android/message_send_receive_android.html">发送和接收消息</a></li><li><a href="/vuepress/document/Android/message_manage_android.html">管理本地消息数据</a></li><li><a href="/vuepress/document/Android/message_retrieve_android.html">从服务器获取消息（消息漫游）</a></li><li><a href="/vuepress/document/Android/message_receipt_android.html">管理消息回执</a></li><li><a href="/vuepress/document/Android/message_translation_android.html">翻译</a></li></ul></div></li><li><a href="/vuepress/document/Android/userprofile_android.html">管理用户属性</a></li><li><a href="/vuepress/document/Android/user_relationship_android.html">管理用户关系</a></li><li><div><a href="javascript:;">群组管理<i class="icon-arrow open"></i></a> <ul class="sider-menu-sub collapsable"><li><a href="/vuepress/document/Android/group_overview_android.html">群组概述</a></li><li class="active"><a href="/vuepress/document/Android/group_manage_android.html">管理群组</a></li><li><a href="/vuepress/document/Android/group_members_android.html">管理群组成员</a></li><li><a href="/vuepress/document/Android/group_attributes_android.html">管理群组属性</a></li></ul></div></li><li><div><a href="javascript:;">聊天室管理<i class="icon-arrow"></i></a> <ul class="sider-menu-sub collapsable menu-hidden"><li><a href="/vuepress/document/Android/room_overview_android.html">聊天室概述</a></li><li><a href="/vuepress/document/Android/room_manage_android.html">创建和管理聊天室</a></li><li><a href="/vuepress/document/Android/room_members_android.html">管理聊天室成员</a></li><li><a href="/vuepress/document/Android/room_attributes_android.html">管理聊天室属性</a></li></ul></div></li></ul></div><div class="item"><h2>进阶功能</h2> <ul><li><a href="/vuepress/document/Android/multi_device_android.html">登录多个设备</a></li><li><a href="/vuepress/document/Android/presence_android.html">管理在线状态订阅</a></li><li><a href="/vuepress/document/Android/reaction_android.html">消息表情回复</a></li><li><div><a href="javascript:;">子区管理<i class="icon-arrow"></i></a> <ul class="sider-menu-sub collapsable menu-hidden"><li><a href="/vuepress/document/Android/thread_android.html">管理子区</a></li><li><a href="/vuepress/document/Android/thread_message_android.html">管理子区消息</a></li></ul></div></li><li><a href="/vuepress/document/Android/moderation_report_android.html">消息审核</a></li></ul></div><div class="item"><h2>其他</h2> <ul><li><a href="/vuepress/document/Android/error_android.html">错误码</a></li></ul></div></div></div> <div data-key="v-086ccaa9" class="description-container"><div><div class="content__default"><h1 id="管理群组"><a href="#管理群组" class="header-anchor">#</a> 管理群组</h1> <p></p><div class="table-of-contents"><ul><li><a href="#技术原理">技术原理</a></li><li><a href="#前提条件">前提条件</a></li><li><a href="#实现方法">实现方法</a><ul><li><a href="#创建群组">创建群组</a></li><li><a href="#用户申请入群">用户申请入群</a></li><li><a href="#解散群组">解散群组</a></li><li><a href="#退出群组">退出群组</a></li><li><a href="#获取群组详情">获取群组详情</a></li><li><a href="#获取群成员列表">获取群成员列表</a></li><li><a href="#获取群组列表">获取群组列表</a></li><li><a href="#屏蔽和解除屏蔽群消息">屏蔽和解除屏蔽群消息</a></li><li><a href="#监听群组事件">监听群组事件</a></li></ul></li></ul></div><p></p> <p>群组是支持多人沟通的即时通讯系统，本文介绍如何使用环信即时通讯 IM SDK 在实时互动 app 中创建和管理群组，并实现群组相关功能。</p> <p>如需查看消息相关内容，参见 <a href="https://docs-im.easemob.com/ccim/android/message1" target="_blank" rel="noopener noreferrer">消息管理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h2 id="技术原理"><a href="#技术原理" class="header-anchor">#</a> 技术原理</h2> <p>环信即时通讯 IM Android SDK 提供 <code>EMGroupManager</code> 类和 <code>EMGroup</code> 类用于管理群组，支持你通过调用 API 在项目中实现如下功能：</p> <ul><li>创建、解散群组</li> <li>加入、退出群组</li> <li>获取群组详情</li> <li>获取群成员列表</li> <li>获取群组列表</li> <li>屏蔽、解除屏蔽群消息</li> <li>监听群组事件</li></ul> <h2 id="前提条件"><a href="#前提条件" class="header-anchor">#</a> 前提条件</h2> <p>开始前，请确保满足以下条件：</p> <ul><li>完成 SDK 初始化，详见 <a href="https://docs-im.easemob.com/ccim/android/quickstart" target="_blank" rel="noopener noreferrer">快速开始<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li> <li>了解环信即时通讯 IM 的使用限制，详见 <a href="https://docs-im.easemob.com/ccim/limitation" target="_blank" rel="noopener noreferrer">使用限制<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li> <li>了解群组和群成员的数量限制，详见 <a href="https://www.easemob.com/pricing/im" target="_blank" rel="noopener noreferrer">套餐包详情<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li></ul> <h2 id="实现方法"><a href="#实现方法" class="header-anchor">#</a> 实现方法</h2> <p>本节介绍如何使用环信即时通讯 IM SDK 提供的 API 实现上述功能。</p> <h3 id="创建群组"><a href="#创建群组" class="header-anchor">#</a> 创建群组</h3> <p>在创建群组前，你需要设置群组类型（<code>EMGroupStyle</code>）和进群邀请是否需要对方同意 (<code>inviteNeedConfirm</code>)。</p> <p>1、私有群不可被搜索到，公开群可以通过 ID 搜索到。目前支持四种群组类型（<code>EMGroupStyle</code>），具体设置如下：</p> <ul><li>EMGroupStylePrivateOnlyOwnerInvite——私有群，只有群主和管理员可以邀请人进群；</li> <li>EMGroupStylePrivateMemberCanInvite——私有群，所有群成员均可以邀请人进群；</li> <li>EMGroupStylePublicJoinNeedApproval——公开群，加入此群除了群主和管理员邀请，只能通过申请加入此群；</li> <li>EMGroupStylePublicOpenJoin ——公开群，任何人都可以进群，无需群主和群管理同意。</li></ul> <p>2、进群邀请是否需要对方同意 (<code>inviteNeedConfirm</code>) 的具体设置如下：</p> <ul><li>进群邀请需要用户确认(<code>inviteNeedConfirm</code> 设置为 <code>true</code>)。创建群组并发出邀请后，根据受邀用户的 <code>autoAcceptGroupInvitation</code> 设置，处理逻辑如下：
<ul><li>用户设置自动接受群组邀请 (<code>autoAcceptGroupInvitation</code> 设置为 <code>true</code>)。受邀用户自动进群并收到 <code>EMGroupChangeListener#onAutoAcceptInvitationFromGroup</code> 回调，群主收到 <code>EMGroupChangeListener#onInvitationAccepted</code> 回调和 <code>EMGroupChangeListener#onMemberJoined</code> 回调，其他群成员收到 <code>EMGroupChangeListener#onMemberJoined</code> 回调。</li> <li>用户设置手动确认群组邀请 (<code>autoAcceptGroupInvitation</code> 设置为 <code>false</code>)，受邀用户收到 <code>EMGroupChangeListener#onInvitationReceived</code> 回调，并选择同意或拒绝入群邀请：
<ul><li>用户同意入群邀请后，群主收到 <code>EMGroupChangeListener#onInvitationAccepted</code> 回调和 <code>EMGroupChangeListener#onMemberJoined</code> 回调；其他群成员收到 <code>EMGroupChangeListener#onMemberJoined</code> 回调；</li> <li>用户拒绝入群邀请后，群主收到 <code>EMGroupChangeListener#groupInvitationDidDecline</code> 回调。</li></ul></li></ul></li></ul> <p>流程如下：</p> <p><img src="https://docs-im.easemob.com/_media/ccim/android/8.png?w=1500&amp;tok=db0f36" alt="img"></p> <ul><li>进群邀请无需用户确认 (<code>inviteNeedConfirm</code> 设置为 <code>false</code>)。创建群组并发出邀请后，无视用户的 <code>autoAcceptGroupInvitation</code> 设置，受邀用户直接进群。用户收到 <code>EMGroupChangeListener#onAutoAcceptInvitationFromGroup</code> 回调；群主收到每个已加入成员对应的群组事件回调 <code>EMGroupChangeListener#onInvitationAccepted</code> 和 <code>EMGroupChangeListener#onMemberJoined</code>；先加入的群成员会收到群组事件回调 <code>EMGroupChangeListener#onMemberJoined</code>。</li></ul> <p>用户可以调用 <code>createGroup</code> 方法创建群组，并通过 <code>EMGroupOptions</code> 参数设置群组名称、群组描述、群组成员和建群原因。</p> <p>用户加入群组后，将可以收到群消息。</p> <p>示例代码如下：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">EMGroupOptions</span> option <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EMGroupOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
option<span class="token punctuation">.</span>maxUsers <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
option<span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token class-name">EMGroupStyle<span class="token punctuation">.</span>EMGroupStylePrivateMemberCanInvite</span><span class="token punctuation">;</span>

<span class="token class-name">EMClient</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">groupManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createGroup</span><span class="token punctuation">(</span>groupName<span class="token punctuation">,</span> desc<span class="token punctuation">,</span> allMembers<span class="token punctuation">,</span> reason<span class="token punctuation">,</span> option<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="用户申请入群"><a href="#用户申请入群" class="header-anchor">#</a> 用户申请入群</h3> <p>根据 <a href="https://docs-im.easemob.com/ccim/android/group2#%E5%88%9B%E5%BB%BA%E7%BE%A4%E7%BB%84" target="_blank" rel="noopener noreferrer">创建群组<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 时的群组类型 (<code>EMGroupStyle</code>) 设置，加入群组的处理逻辑差别如下：</p> <ul><li>当群组类型为 <code>EMGroupStylePublicOpenJoin</code> 时，用户直接加入群组，无需群主和群管理员同意；加入群组后，其他群成员收到 <code>EMGroupChangeListener#onMemberJoined</code> 回调。</li> <li>当群组类型为 <code>EMGroupStylePublicJoinNeedApproval</code> 时，群主和群管理员收到 <code>EMGroupChangeListener#onRequestToJoinReceived</code> 回调，并选择同意或拒绝入群申请：
<ul><li>群主和群管理员同意入群申请，申请人收到 <code>EMGroupChangeListener#onRequestToJoinAccepted</code> 回调；其他群成员收到 <code>EMGroupChangeListener#onMemberJoined</code> 回调。</li> <li>群主和群管理员拒绝入群申请，申请人收到 <code>EMGroupChangeListener#onRequestToJoinDeclined</code> 回调。</li></ul></li></ul> <p><strong>注意</strong></p> <p>用户只能申请加入公开群组，私有群组不支持用户申请入群。</p> <p>用户申请加入群组的步骤如下：</p> <ol><li><p>调用 <code>getPublicGroupsFromServer</code> 方法从服务器获取公开群列表，查询到想要加入的群组 ID。</p></li> <li><p>调用 <code>joinGroup</code> 方法传入群组 ID，申请加入对应群组。</p></li></ol> <p>示例代码如下：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 从服务器获取公开群组列表</span>
<span class="token class-name">EMCursorResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EMGroupInfo</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> <span class="token class-name">EMClient</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">groupManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPublicGroupsFromServer</span><span class="token punctuation">(</span>pageSize<span class="token punctuation">,</span> cursor<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EMGroupInfo</span><span class="token punctuation">&gt;</span></span> groupsList <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> cursor <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">getCursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 申请加入群组</span>
<span class="token class-name">EMClient</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">groupManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">joinGroup</span><span class="token punctuation">(</span>groupId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="解散群组"><a href="#解散群组" class="header-anchor">#</a> 解散群组</h3> <p>仅群主可以调用 <code>destroyGroup</code> 方法解散群组。群组解散时，其他群组成员收到 <code>EMGroupChangeListener#onGroupDestroyed</code> 回调并被踢出群组。</p> <p><strong>注意</strong></p> <p>该操作是危险操作，解散群组后，将删除本地数据库及内存中的群相关信息及群会话。</p> <p>示例代码如下：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 异步方法。</span>
<span class="token class-name">EMClient</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">groupManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">destroyGroup</span><span class="token punctuation">(</span>groupId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="退出群组"><a href="#退出群组" class="header-anchor">#</a> 退出群组</h3> <p>群成员可以调用 <code>leaveGroup</code> 方法退出群组。其他成员收到 <code>EMGroupChangeListener#onMemberExited</code> 回调。</p> <p>退出群组后，该用户将不再收到群消息。群主不能调用该接口退出群组，只能调用 <code>DestroyGroup</code> 解散群组。</p> <p>示例代码如下：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 异步方法。</span>
<span class="token class-name">EMClient</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">groupManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">leaveGroup</span><span class="token punctuation">(</span>groupId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="获取群组详情"><a href="#获取群组详情" class="header-anchor">#</a> 获取群组详情</h3> <p>群成员可以调用 <code>getGroupFromServer(groupId)</code> 方法从内存获取群组详情。返回结果包括：群组 ID、群组名称、群组描述、群组基本属性、群主、群组管理员列表，默认不包含群成员。</p> <p>群成员也可以调用 <code>getGroupFromServer(String groupId, boolean fetchMembers)</code> 方法从服务器获取群组详情。返回结果包括：群组 ID、群组名称、群组描述、群组基本属性、群主、群组管理员列表。另外，若设置 <code>fetchMembers</code> 为 <code>true</code>，获取群组详情时同时获取群成员，默认获取最大数量为 200。</p> <p>示例代码如下：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 根据群组 ID 从本地获取群组详情。</span>
<span class="token class-name">EMGroup</span> group <span class="token operator">=</span> <span class="token class-name">EMClient</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">groupManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getGroup</span><span class="token punctuation">(</span>groupId<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 根据群组 ID 从服务器获取群组详情。</span>
<span class="token class-name">EMGroup</span> group <span class="token operator">=</span> <span class="token class-name">EMClient</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">groupManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getGroupFromServer</span><span class="token punctuation">(</span>groupId<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取群主用户 ID。</span>
group<span class="token punctuation">.</span><span class="token function">getOwner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取内存中的群成员。</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> members <span class="token operator">=</span> group<span class="token punctuation">.</span><span class="token function">getMembers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 获取内存中管理员列表。</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> adminList <span class="token operator">=</span> group<span class="token punctuation">.</span><span class="token function">getAdminList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 获取是否已屏蔽群组消息。
 * - `true`：是；
 * - `false`：否。
 */</span>
<span class="token keyword">boolean</span> isMsgBlocked <span class="token operator">=</span> group<span class="token punctuation">.</span><span class="token function">isMsgBlocked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre></div><h3 id="获取群成员列表"><a href="#获取群成员列表" class="header-anchor">#</a> 获取群成员列表</h3> <p>群成员可以调用 <code>fetchGroupMembers</code> 方法从服务器分页获取群成员列表。</p> <ul><li>可通过分页获取群成员：</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> memberList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token class-name">EMCursorResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">final</span> <span class="token keyword">int</span> pageSize <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token keyword">do</span> <span class="token punctuation">{</span>
     result <span class="token operator">=</span> <span class="token class-name">EMClient</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">groupManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fetchGroupMembers</span><span class="token punctuation">(</span>groupId<span class="token punctuation">,</span>
             result <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token operator">?</span> result<span class="token punctuation">.</span><span class="token function">getCursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> pageSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
     memberList<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">TextUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">getCursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> result<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> pageSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>当群成员少于 200 人时，可通过以下方式获取群成员：</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 异步方法。</span>
<span class="token comment">// 第二个参数传入 `true`，默认取 200 人的群成员列表。</span>
<span class="token class-name">EMGroup</span> group <span class="token operator">=</span> <span class="token class-name">EMClient</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">groupManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getGroupFromServer</span><span class="token punctuation">(</span>groupId<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> memberList <span class="token operator">=</span> group<span class="token punctuation">.</span><span class="token function">getMembers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="获取群组列表"><a href="#获取群组列表" class="header-anchor">#</a> 获取群组列表</h3> <p>用户可以调用 <code>getJoinedGroupsFromServer</code> 方法从服务器获取自己加入和创建的群组列表。示例代码如下：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 异步方法。</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EMGroup</span><span class="token punctuation">&gt;</span></span> grouplist <span class="token operator">=</span> <span class="token class-name">EMClient</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">groupManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getJoinedGroupsFromServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>用户可以调用 <code>getAllGroups</code> 方法加载本地群组列表。为了保证数据的正确性，需要先从服务器获取自己加入和创建的群组列表。示例代码如下：</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EMGroup</span><span class="token punctuation">&gt;</span></span> grouplist <span class="token operator">=</span> <span class="token class-name">EMClient</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">groupManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAllGroups</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>用户还可以分页获取公开群列表：</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 异步方法。</span>
<span class="token class-name">EMCursorResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EMGroupInfo</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> <span class="token class-name">EMClient</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">groupManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPublicGroupsFromServer</span><span class="token punctuation">(</span>pageSize<span class="token punctuation">,</span> cursor<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EMGroupInfo</span><span class="token punctuation">&gt;</span></span> groupsList <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> cursor <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">getCursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="屏蔽和解除屏蔽群消息"><a href="#屏蔽和解除屏蔽群消息" class="header-anchor">#</a> 屏蔽和解除屏蔽群消息</h3> <p>群成员可以屏蔽群消息和解除屏蔽群消息。</p> <h4 id="屏蔽群消息"><a href="#屏蔽群消息" class="header-anchor">#</a> 屏蔽群消息</h4> <p>群成员可以调用 <code>blockGroupMessage</code> 方法屏蔽群消息。屏蔽群消息后，该成员不再从指定群组接收群消息，群主和群管理员不能进行此操作。示例代码如下：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">EMClient</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">groupManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">blockGroupMessage</span><span class="token punctuation">(</span>groupId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="解除屏蔽群消息"><a href="#解除屏蔽群消息" class="header-anchor">#</a> 解除屏蔽群消息</h4> <p>群成员可以调用 <code>unblockGroupMessage</code> 方法解除屏蔽群消息。示例代码如下：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">EMClient</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">groupManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unblockGroupMessage</span><span class="token punctuation">(</span>groupId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="检查自己是否已经屏蔽群消息"><a href="#检查自己是否已经屏蔽群消息" class="header-anchor">#</a> 检查自己是否已经屏蔽群消息</h4> <p>群成员可以调用 <code>EMGroup#isMsgBlocked</code> 方法检查用户是否屏蔽了该群的群消息。使用此方法检查时，为了保证结果的准确性，需要先从服务器获取群详情，即调用 <code>EMGroupManager#getGroupFromServer</code>。</p> <p>示例代码如下：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 1、获取群组详情</span>
<span class="token class-name">EMClient</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">groupManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asyncGetGroupFromServer</span><span class="token punctuation">(</span>groupId<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">EMValueCallBack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EMGroup</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token class-name">EMGroup</span> group<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 2、检查用户是否屏蔽了该群的群消息</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>group<span class="token punctuation">.</span><span class="token function">isMsgBlocked</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span><span class="token keyword">int</span> error<span class="token punctuation">,</span> <span class="token class-name">String</span> errorMsg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="监听群组事件"><a href="#监听群组事件" class="header-anchor">#</a> 监听群组事件</h3> <p><code>EMGroupManager</code> 中提供群组事件的监听接口。开发者可以通过设置此监听，获取群组中的事件，并做出相应处理。如果不再使用该监听，需要移除，防止出现内存泄漏。</p> <p>示例代码如下：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 创建一个群组事件监听</span>
<span class="token class-name">EMGroupChangeListener</span> groupListener <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EMGroupChangeListener</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           <span class="token comment">// 用户收到进群邀请</span>
	   <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onInvitationReceived</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupId<span class="token punctuation">,</span> <span class="token class-name">String</span> groupName<span class="token punctuation">,</span> <span class="token class-name">String</span> inviter<span class="token punctuation">,</span> <span class="token class-name">String</span> reason<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
           <span class="token comment">// 群主或群管理员收到进群申请</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token class-name">OnRequestToJoinReceivedFromGroup</span><span class="token punctuation">(</span>string groupId<span class="token punctuation">,</span> string groupName<span class="token punctuation">,</span> string applicant<span class="token punctuation">,</span> string reason<span class="token punctuation">)</span><span class="token punctuation">{</span>
           <span class="token punctuation">}</span>
           <span class="token comment">// 群主或群管理员同意用户的进群申请</span>
           <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onRequestToJoinAccepted</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupId<span class="token punctuation">,</span> <span class="token class-name">String</span> groupName<span class="token punctuation">,</span> <span class="token class-name">String</span> accepter<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
           <span class="token comment">// 群主或群管理员拒绝用户的进群申请</span>
           <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onRequestToJoinDeclined</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupId<span class="token punctuation">,</span> <span class="token class-name">String</span> groupName<span class="token punctuation">,</span> <span class="token class-name">String</span> decliner<span class="token punctuation">,</span> <span class="token class-name">String</span> reason<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
           <span class="token comment">// 用户同意进群邀请</span>
           <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onInvitationAccepted</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupId<span class="token punctuation">,</span> <span class="token class-name">String</span> invitee<span class="token punctuation">,</span> <span class="token class-name">String</span> reason<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
           <span class="token comment">// 用户拒绝进群邀请</span>
           <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onInvitationDeclined</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupId<span class="token punctuation">,</span> <span class="token class-name">String</span> invitee<span class="token punctuation">,</span> <span class="token class-name">String</span> reason<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
           <span class="token comment">// 有成员被移出群组</span>
           <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onUserRemoved</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupId<span class="token punctuation">,</span> <span class="token class-name">String</span> groupName<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
           <span class="token comment">// 群组解散</span>
           <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onGroupDestroyed</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupId<span class="token punctuation">,</span> <span class="token class-name">String</span> groupName<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
           <span class="token comment">// 有用户自动同意加入群组</span>
           <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAutoAcceptInvitationFromGroup</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupId<span class="token punctuation">,</span> <span class="token class-name">String</span> inviter<span class="token punctuation">,</span> <span class="token class-name">String</span> inviteMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
           <span class="token comment">// 有成员被加入群组禁言列表</span>
           <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onMuteListAdded</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupId<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> mutes<span class="token punctuation">,</span> <span class="token keyword">long</span> muteExpire<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
           <span class="token comment">// 有成员被移出禁言列表</span>
           <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onMuteListRemoved</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupId<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> mutes<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
           <span class="token comment">// 有成员被加入群组白名单</span>
           <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onWhiteListAdded</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupId<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> whitelist<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
           <span class="token comment">// 有成员被移出群组白名单</span>
           <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onWhiteListRemoved</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupId<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> whitelist<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
           <span class="token comment">// 全员禁言状态变化</span>
           <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAllMemberMuteStateChanged</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupId<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isMuted<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
           <span class="token comment">// 群组新增管理员</span>
           <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAdminAdded</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupId<span class="token punctuation">,</span> <span class="token class-name">String</span> administrator<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
           <span class="token comment">// 群组管理员被移除</span>
           <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAdminRemoved</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupId<span class="token punctuation">,</span> <span class="token class-name">String</span> administrator<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
           <span class="token comment">// 群主转移权限</span>
           <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onOwnerChanged</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupId<span class="token punctuation">,</span> <span class="token class-name">String</span> newOwner<span class="token punctuation">,</span> <span class="token class-name">String</span> oldOwner<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
           <span class="token comment">// 有新成员加入群组</span>
           <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onMemberJoined</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupId<span class="token punctuation">,</span> <span class="token class-name">String</span> member<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
           <span class="token comment">// 有成员主动退出群</span>
           <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onMemberExited</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupId<span class="token punctuation">,</span> <span class="token class-name">String</span> member<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
           <span class="token comment">// 群组公告更新</span>
           <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onAnnouncementChanged</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupId<span class="token punctuation">,</span> <span class="token class-name">String</span> announcement<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
           <span class="token comment">// 有成员新上传群组共享文件</span>
           <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSharedFileAdded</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupId<span class="token punctuation">,</span> <span class="token class-name">EMMucSharedFile</span> sharedFile<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
           <span class="token comment">// 群组共享文件被删除</span>
           <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSharedFileDeleted</span><span class="token punctuation">(</span><span class="token class-name">String</span> groupId<span class="token punctuation">,</span> <span class="token class-name">String</span> fileId<span class="token punctuation">)</span> <span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
           <span class="token comment">// 群组详情变更</span>
	   <span class="token annotation punctuation">@Override</span>
           <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSpecificationChanged</span><span class="token punctuation">(</span><span class="token class-name">EMGroup</span> group<span class="token punctuation">)</span><span class="token punctuation">{</span>

           <span class="token punctuation">}</span>
       <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 注册群组监听</span>
<span class="token class-name">EMClient</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">groupManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addGroupChangeListener</span><span class="token punctuation">(</span>groupListener<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 移除群组监听</span>
<span class="token class-name">EMClient</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">groupManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeGroupChangeListener</span><span class="token punctuation">(</span>groupListener<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <div class="back-to-top hidden"></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/maniacflow/vuepress/edit/master/docs/document/Android/group_manage_android.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated">更新时间：2022/7/26 下午6:26:25</div></div></div></div> <link id="code-theme" rel="stylesheet"></div><div class="global-ui"></div></div>
    <script src="/vuepress/assets/js/app.3775eb30.js" defer></script><script src="/vuepress/assets/js/3.db456b6c.js" defer></script><script src="/vuepress/assets/js/1.7ac2d96d.js" defer></script><script src="/vuepress/assets/js/15.6249d44e.js" defer></script>
  </body>
</html>
